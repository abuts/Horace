<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Download and setup &mdash; Horace 3.6.0.c59694e documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Download and Setup Trouble-Shutting" href="Download_and_Setup_Troubleshutting.html" />
    <link rel="prev" title="The Horace Rationale" href="The_Horace_Rationale.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Horace
          </a>
              <div class="version">
                3.6.0.c59694e
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="The_Horace_Rationale.html">The Horace Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="Download_and_Setup_Troubleshutting.html">Download and Setup Trouble-Shutting</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Download and setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#system-requirements">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#download">Download</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-instructions">Installation Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#horace-configuration">Horace Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#high-performance-computing-configuration">High Performance Computing Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Download_and_Setup_Troubleshutting.html">Download and Setup Trouble-Shutting</a></li>
<li class="toctree-l1"><a class="reference internal" href="Support_and_updates.html">Support and updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="Getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Advanced_use.html">Advanced use</a></li>
<li class="toctree-l1"><a class="reference internal" href="Changing_Horace_settings.html">Changing Horace settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="Planning_a_Horace_scan.html">Planning a Horace scan</a></li>
<li class="toctree-l1"><a class="reference internal" href="Generating_SQW_files.html">Generating SQW files</a></li>
<li class="toctree-l1"><a class="reference internal" href="Manipulating_and_extracting_data_from_SQW_files_and_objects.html">Manipulating and extracting data from SQW files and objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="Correcting_for_sample_misalignment.html">Correcting for sample misalignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data_diagnostics.html">Data diagnostics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Symmetrising_etc.html">Symmetrising etc</a></li>
<li class="toctree-l1"><a class="reference internal" href="Binary_operations.html">Binary operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="Simulation.html">Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Multifit.html">Multifit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Advanced_Multifit.html">Advanced Multifit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tobyfit.html">Tobyfit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Input_file_formats.html">Input file formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="Example_scripts.html">Example scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="How_to_cite_Horace.html">How to cite Horace</a></li>
<li class="toctree-l1"><a class="reference internal" href="Papers_citing_Horace.html">Papers citing Horace</a></li>
<li class="toctree-l1"><a class="reference internal" href="Known_bugs.html">Known bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="Become_a_developer.html">Become a developer</a></li>
<li class="toctree-l1"><a class="reference internal" href="For_Developers.html">For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Developer_info.html">Developer info</a></li>
<li class="toctree-l1"><a class="reference internal" href="General_disclaimer.html">General disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Privacy_policy.html">Privacy Policy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Horace</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Download and setup</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Download_and_setup.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="Download_and_Setup_Troubleshutting.html">Download and Setup Trouble-Shutting</a></li>
</ul>
</div>
<section id="download-and-setup">
<h1>Download and setup<a class="headerlink" href="#download-and-setup" title="Permalink to this headline"></a></h1>
<section id="system-requirements">
<h2>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Plenty of free disk space in order to cope with the combined data files (&gt; 30GB)</p></li>
<li><p>16GB RAM (at the very least). It should run on a machine with 4 or 8Gb memory,
but this mode has not been tested for a long time. It may be very inconvenient
to process average experimental results on such a machine.</p></li>
<li><p>Preferably a recent version of Matlab.
Horace is not tested on releases of Matlab older than R2018b,
although we make efforts for it to be compatible with the last 5 years of
releases.
If you are forced to use an earlier release and run into a problem,
please open a ticket on
<a class="reference external" href="https://github.com/pace-neutrons/Horace/issues">GitHub</a>
or write e-mail to <a class="reference external" href="mailto:HoraceHelp&#37;&#52;&#48;stfc&#46;ac&#46;uk">Horace support team</a>
and we will back trying to help you.</p></li>
</ul>
</section>
<section id="download">
<h2>Download<a class="headerlink" href="#download" title="Permalink to this headline"></a></h2>
<a class="reference external" href="https://github.com/pace-neutrons/Horace/releases">GitHub</a>.
These packages contain pre-compiled x64 Mex libraries for each OS.</p>
<p>Everything required to run Horace is within the package,
including <a class="reference external" href="https://github.com/pace-neutrons/Herbert">Herbert</a>.</p>
</section>
<section id="installation-instructions">
<h2>Installation Instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this headline"></a></h2>
<p>To install Horace you should ideally have the administrative rights. To
install Horace:</p>
<ol class="arabic simple">
<li><p>Extract the release archive to your preferred location.</p></li>
<li><p>Open Matlab and set that location as your working directory.</p></li>
go to the package folder and run Matlab from command line: <code class="docutils literal notranslate"><span class="pre">&gt;&gt;sudo</span> <span class="pre">matlab</span> <span class="pre">-nosplash</span> <span class="pre">-nodesktop</span> <span class="pre">-r</span> <span class="pre">horace_install</span></code></p></li>
</ol>
<p>Optional:</p>
<ol class="arabic simple" start="5">
Add string <cite>horace_on();</cite> to enable Horace for each Matlab startup
to have Horace available each time you start your Matlab session.</p></li>
<li><p>If you do not have administrative access, the installation would still be possible,
and should work as described. You may encounter problems with parallel extensions
and not be able to initialize Horace if Matlab is launched from a folder different from Matlab’s <a class="reference external" href="https://uk.mathworks.com/help/matlab/ref/userpath.html">userpath</a> folder.
See <a class="reference internal" href="Download_and_Setup_Troubleshutting.html#download-and-setup-trouble-shutting"><span class="std std-ref">Troubleshooting</span></a> for the details
of the installation process in this situation.</p></li>
</ol>
<p>If you installing Horace directly from GitHub repository, clone Herbert and Horace repositories to the folder of your choice. The <code class="docutils literal notranslate"><span class="pre">horace_install</span></code> script to run is located in <code class="docutils literal notranslate"><span class="pre">your_folder/Horace/admin</span></code> folder. Horace should work after the script was run but to improve performance of some common Horace operations you may need to build mex files yourself. Currently mex files for Windows are stored in the repository, but this may not always be the case in a future. You will need to build mex files for any other operating system.</p>
</section>
<section id="horace-configuration">
<h2>Horace Configuration<a class="headerlink" href="#horace-configuration" title="Permalink to this headline"></a></h2>
<p>Horace uses configuration files to store its settings and to turn-up its behaviour and performance.
Horace tries to guess the the best performance for your machine, but you should check if the configuration
it selected is indeed optimal for you.</p>
<p>You can access the settings using the <code class="docutils literal notranslate"><span class="pre">hor_config</span></code> class.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">hor_config</span><span class="w"></span>
</pre></div>
</div>
<p>This will print the current Horace configuration.
Descriptions for each option with suggestion for configuring are given below:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">hc</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">hor_config</span><span class="p">()</span><span class="w"></span>

<span class="n">hc</span><span class="w"> </span><span class="p">=</span><span class="w"></span>

<span class="n">hor_config</span><span class="w"> </span><span class="s">with</span><span class="w"> </span><span class="s">properties:</span><span class="w"></span>
<span class="w">   </span><span class="c">% The buffer size for read/write IO operations in filebased algorithms.</span><span class="w"></span>
<span class="w">   </span><span class="c">% (in Horace pixel units)</span><span class="w"></span>
<span class="w">   </span><span class="c">% Set it up to ~20M if you machine has 64Gb or RAM, 1M for 4Gb machine.</span><span class="w"></span>
<span class="w">   </span><span class="n">mem_chunk_size</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="w"> </span><span class="c">% optimal value for 32Gb RAM machine</span><span class="w"></span>
<span class="w">   </span><span class="c">%</span><span class="w"></span>
<span class="w">   </span><span class="c">% The number of OMP threads to use in Mex routines. This should be equal to</span><span class="w"></span>
<span class="w">   </span><span class="c">% the number of physical cores on your machine.</span><span class="w"></span>
<span class="w">   </span><span class="n">threads</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="w"></span>
<span class="w">   </span><span class="n">ignore_nan</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">Keep</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">default</span><span class="w"></span>
<span class="w">   </span><span class="c">% Ignore Inf data when making cuts (true or false) Keep it default</span><span class="w"></span>
<span class="w">   </span><span class="n">ignore_inf</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">   </span><span class="c">% The verbosity of informational log messages:</span><span class="w"></span>
<span class="w">   </span><span class="c">%  -1 - Display no logging</span><span class="w"></span>
<span class="w">   </span><span class="c">%   0 - Display major logging information</span><span class="w"></span>
<span class="w">   </span><span class="c">%   1 - Display minor and major logging information</span><span class="w"></span>
<span class="w">   </span><span class="c">%   2 - Display all logging messages, including timing information</span><span class="w"></span>
<span class="w">   </span><span class="n">log_level</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"></span>
<span class="w">   </span><span class="c">% Make use of Mex libraries (true or false). Make it true if mex routines are available.</span><span class="w"></span>
<span class="w">   </span><span class="n">use_mex</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">   </span><span class="c">% Automatically delete temporary files generated by sqw generation (true or false)</span><span class="w"></span>
<span class="w">   </span><span class="c">% set it to false, if you building your sqw files using write_nsqw_to_sqw algorithm</span><span class="w"></span>
<span class="w">   </span>#<span class="w"> </span><span class="p">(</span><span class="n">Adwanced</span><span class="w"> </span><span class="n">Horace</span><span class="w"> </span><span class="n">usage</span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="n">delete_tmp</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">   </span><span class="c">% The directory to place temporary files during sqw generation</span><span class="w"></span>
<span class="w">   </span><span class="n">working_directory</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;C:\temp&#39;</span><span class="w"></span>
<span class="w">   </span><span class="c">% Throw an error if a Mex library cannot be used (true or false) [debugging option]</span><span class="w"></span>
<span class="w">   </span><span class="n">force_mex_if_use_mex</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">   </span><span class="c">% Reference to Horace&#39;s high performance configuration</span><span class="w"></span>
<span class="w">   </span><span class="n">high_perf_config_info</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span>×<span class="mi">1</span><span class="w"> </span><span class="n">hpc_config</span><span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">hc</span><span class="p">.(</span><span class="n">property_name</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="high-performance-computing-configuration">
<h2>High Performance Computing Configuration<a class="headerlink" href="#high-performance-computing-configuration" title="Permalink to this headline"></a></h2>
<p>If your have large machine with multiple several cores, fast hard drive connected to parallel file system and large memory, you may benefit from using Horace’s
parallel computing extensions. The memory, necessary to make parallel extensions useful may be estimated as 32Gb per main session
and 16 per each parallel worker as minimum, so if you want to use 4 parallel processes productively, your machine wound normally
have 96Gb of RAM.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">hpc</span></code> command can be used to enable/disable parallel computing options,
as well as provide suggested settings for the current system.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">hpc</span><span class="p">;</span><span class="w">     </span><span class="c">% display the suggested configuration based on the current system</span><span class="w"></span>
<span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">hpc</span><span class="w"> </span><span class="n">on</span><span class="w">   </span><span class="c">% enable parallel computing</span><span class="w"></span>
<span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">hpc</span><span class="w"> </span><span class="n">off</span><span class="w">  </span><span class="c">% disable parallel computing</span><span class="w"></span>
</pre></div>
</div>
<p>For finer grained control over things like: number of parallel workers,
use of Mex routines and which functions are performed in parallel,
use the <code class="docutils literal notranslate"><span class="pre">hpc_config</span></code> class.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nb">help</span><span class="w"> </span><span class="n">hpc_config</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="The_Horace_Rationale.html" class="btn btn-neutral float-left" title="The Horace Rationale" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
      });
  </script> 

</body>
</html>
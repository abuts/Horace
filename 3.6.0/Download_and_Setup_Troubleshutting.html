<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Download and Setup Trouble-Shutting &mdash; Horace  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Support and updates" href="Support_and_updates.html" />
    <link rel="prev" title="Download and setup" href="Download_and_setup.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Horace
            <img src="_static/150px-Quintus_Horatius_Flaccus.jpg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.6.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="The_Horace_Rationale.html">The Horace Rationale</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Download and Setup Trouble-Shutting</a></li>
<li class="toctree-l1"><a class="reference internal" href="Download_and_setup.html">Download and setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Download and Setup Trouble-Shutting</a></li>
<li class="toctree-l1"><a class="reference internal" href="Support_and_updates.html">Support and updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="Getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Advanced_use.html">Advanced use</a></li>
<li class="toctree-l1"><a class="reference internal" href="Horace_GUI.html">Horace GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="Changing_Horace_settings.html">Changing Horace settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="Planning_a_Horace_scan.html">Planning a Horace scan</a></li>
<li class="toctree-l1"><a class="reference internal" href="Generating_SQW_files.html">Generating SQW files</a></li>
<li class="toctree-l1"><a class="reference internal" href="Manipulating_and_extracting_data_from_SQW_files_and_objects.html">Manipulating and extracting data from SQW files and objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="Correcting_for_sample_misalignment.html">Correcting for sample misalignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data_diagnostics.html">Data diagnostics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Symmetrising_etc.html">Symmetrising etc</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unary_operations.html">Unary operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Binary_operations.html">Binary operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="Simulation.html">Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Multifit.html">Multifit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Advanced_Multifit.html">Advanced Multifit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tobyfit.html">Tobyfit</a></li>
<li class="toctree-l1"><a class="reference internal" href="List_of_functions.html">List of functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Input_file_formats.html">Input file formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="Example_scripts.html">Example scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="How_to_cite_Horace.html">How to cite Horace</a></li>
<li class="toctree-l1"><a class="reference internal" href="Papers_citing_Horace.html">Papers citing Horace</a></li>
<li class="toctree-l1"><a class="reference internal" href="Known_bugs.html">Known bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="Become_a_developer.html">Become a developer</a></li>
<li class="toctree-l1"><a class="reference internal" href="For_Developers.html">For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Developer_info.html">Developer info</a></li>
<li class="toctree-l1"><a class="reference internal" href="General_disclaimer.html">General disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Privacy_policy.html">Privacy Policy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Horace</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="Download_and_setup.html">Download and setup</a> &raquo;</li>
      <li>Download and Setup Trouble-Shutting</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Download_and_Setup_Troubleshutting.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="download-and-setup-trouble-shutting">
<h1>Download and Setup Trouble-Shutting<a class="headerlink" href="#download-and-setup-trouble-shutting" title="Permalink to this headline"></a></h1>
<p>Installation script assumes that you have unpacked instillation archive in a folder of your choice or cloned
Github Horace and Herbert repositories in such folder one near another. In the first case, you will run the <code class="docutils literal notranslate"><span class="pre">horace_install</span></code> script from the folder where the archive is unpacked. In the second – from <strong>*Horace/admin*</strong> directory.
If you file layout is different, pleas run the installation script with the parameters, which specify the location of the Horace and Herbert folders (see <code class="docutils literal notranslate"><span class="pre">install_horace</span></code> help on how to do this), and ensure that <strong>*Horace/admin*</strong> and <strong>*Herbert/admin*</strong> folders contains all necessary templates described below.</p>
<p>Installation process modifies three files, namely <a class="reference external" href="https://github.com/pace-neutrons/Horace/blob/master/admin/horace_on.m.template">horace_on.m.template</a>,
<a class="reference external" href="https://github.com/pace-neutrons/Herbert/blob/master/admin/herbert_on.m.template">herbert_on.m.template</a> and <a class="reference external" href="https://github.com/pace-neutrons/Horace/blob/master/admin/worker_v2.m.template">worker_v2.m.template</a> by renaming them to <code class="docutils literal notranslate"><span class="pre">horace_on.m</span></code>, <code class="docutils literal notranslate"><span class="pre">herbert_on.m</span></code> and <code class="docutils literal notranslate"><span class="pre">worker_v2.m</span></code> and inserting the location of the Horace and Herbert packages (<code class="docutils literal notranslate"><span class="pre">package</span> <span class="pre">installation</span> <span class="pre">folder</span></code> – the place where you have unpacked these packages) into these files. <code class="docutils literal notranslate"><span class="pre">herbert_on</span></code> and <code class="docutils literal notranslate"><span class="pre">horace_on</span></code> files contain the scripts, used to initialize Herbert and Horace correspondingly. <code class="docutils literal notranslate"><span class="pre">horace_on</span></code> also executes <code class="docutils literal notranslate"><span class="pre">herbert_on</span></code> if <code class="docutils literal notranslate"><span class="pre">herbert_on</span></code> has not been executed earlier. <code class="docutils literal notranslate"><span class="pre">worker_v2</span></code> script is used by Horace parallel extensions to initialize Horace from independent parallel workers communicating over MPI.</p>
<p>After initialization, the installation script copies modified <code class="docutils literal notranslate"><span class="pre">horace_on.m</span></code> <code class="docutils literal notranslate"><span class="pre">hebert_on</span></code> and <code class="docutils literal notranslate"><span class="pre">worker_v2.m</span></code> files to <code class="docutils literal notranslate"><span class="pre">package</span> <span class="pre">installation</span> <span class="pre">folder/ISIS</span></code> folder, and adds the <code class="docutils literal notranslate"><span class="pre">package</span> <span class="pre">installation</span> <span class="pre">folder/ISIS</span></code> folder to the <a class="reference external" href="https://uk.mathworks.com/help/matlab/matlab_env/what-is-the-matlab-search-path.html">Matlab search path</a>, defined by <code class="docutils literal notranslate"><span class="pre">pathdef.m</span></code> file. The <code class="docutils literal notranslate"><span class="pre">pathdef.m</span></code> is normally located in <strong>$MATLABROOT/toolbox/local</strong> directory. If you run the installation script under administrative account, the original <cite>pathdef.m</cite> file is modified and all Matlab session including independent parallel workers have access to this path from any location where Matlab has been started.</p>
<p>If you do not have write access to the <cite>pathdef.m</cite> file, the script stores modified copy of the file in the Matlab <strong>$USERPATH</strong> directory. This directory is available and inserted in the beginning Matlab search path modifying Matlab default search path if you start your Matlab session from the link in the OS GUI or from this directory. Some versions of Matlab would not use the same <strong>$USERPATH</strong> directory if you start main Matlab or Matlab parallel workers from other location. This may make <code class="docutils literal notranslate"><span class="pre">horace_on</span></code> and <code class="docutils literal notranslate"><span class="pre">worker_v2</span></code> scripts not available. Parallel extensions in this case do not report any errors, but would not work. To avoid difficult to identify errors, always modify original <cite>pathdef.m</cite> file, i.e. run Horace installation with administrative access.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Download_and_setup.html" class="btn btn-neutral float-left" title="Download and setup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Support_and_updates.html" class="btn btn-neutral float-right" title="Support and updates" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, STFC RAL.
      <span class="lastupdated">Last updated on Sep 29, 2021, 3:52:54 PM.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>